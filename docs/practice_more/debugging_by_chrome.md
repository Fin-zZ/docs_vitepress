# chrome调试

## 一、基本的调试快捷键

- F8 Resume 执行到下一断点
- F9 step 单步执行下一行的语句（是会进入到函数内部的一步一步，通常过于细致）
- F10 step over next function call，与F9类似，但是是执行到下一个function，会跳过函数的内部流程，执行下一步。
- F11 step into next function，是会进入异步函数，f9的step会忽略异步
- shift + F11 ：step out 会执行到当前函数的最后一行，有这个 就很少用f9。

另外两个，分别是忽视/启用所有断点， 忽视/启用内部错误

## 二、调试步骤：

1. 如果一眼知道出错代码的位置，可以直接打断点。
2. 感觉也挺凌乱的话，可以监听可能出错的事件，借助**Event** **Listener** **breakpoints**下旋转，比如mouse的**clicck**，**键盘事件**，定时器事件等
3. 继续运行，通常会出现某个函数被断点卡住。
4. 可以在该函数尾部打上断点，执行**f8**，此时查看一下各个**数据**或者**页面**是否as excepted
5. 如预期所料的话，那就跳出该函数直接得到该函数的返回结果，按F10。不是的话，肯定就是该函数内某一步骤出错，或者该函数内调用的出错。需要刷新，进入出错的调用函数内查看。
6. 如果调用的函数过长，通常不会直接在尾部直接上断点，可以执行f9 单步查看 或者f11进入内部调用的函数查看。
7. f11进来的函数发现很短没啥问题，可以shift + f11跳出当前函数。

右侧的**watch**区域：可以添加需要监听的变量，对象，以便实时的查看其值，记录变量变化情况

call stack 展示了调用栈：当前时刻，被哪些函数一层一层的调用。

**Scope** 当前的作用域：会展示出当前作用域中的变量，有**local**、**global**两类

#### 2.1 断点的一些高效位置设置：

1. 代码中的具体行断点，我们清楚那块code有问题。

2. 添加一些代码**条件判断**的断点，很可能是由变量不同值导致的问题。

3. dom操作相关处，例如增删移动dom节点

4. XMLHttpRequest请求，尤其是含参数的请求，去看看是否参数有误。

5. 利用**事件监听**，例如click

6. 函数中我们设置异常抛出的地方。

7. 特定的**函数**触发。

   

#### 2.2与上方的断点位置一一对应：

1 有两种方式，f12后设置断点，或则代码里直接写debugger

2 f12后，右键添加conditional line of code，写一些简单表达式来检查下变量的值，类型e.g.

3 那就是打开elements去选对应元素右键，有一个break on选项，可以在subtree modifications，attribute modifications，node removal时触发

4 xhr请求，右侧的XHR/fetch Breakpoints里添加我们想要包含的请求参数，自然会在该请求发起时产生断点

5 事件监听，对应事件触发

6 异常触发，通常为我们代码里写的throw主动触发

7 debug(fun)



## 三、js语句函数断点的技巧，

如果和某个fun无关，则利用 step over跳过该fun即可 f10

与该fun相关，利用step into查看 f11

当进入该方法查看后，觉得与该方法无关，可以再利用step out跳出该方法 shift + f11



右侧有函数的调用栈，可以右键选对应的函数执行restart frame，即可重新执行到未调用该函数的时刻

认为无关的js，我们可以右键添加到ignore list去忽视一下，慎用

scope可以查看闭包 全局变量



ctrl + shift + p 是devtools的快捷键，打开输入想去的区域名称即可快速到达。
